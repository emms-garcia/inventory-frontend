div(class="inventory-section section")
  h2(class="page-header") {{ 'INVENTORY' | translate }}
  div(class="row")
    uib-tabset(active="active")
      uib-tab(index="1" heading="{{ 'PRODUCTS' | translate }}")
        h3(class="sub-header") {{ 'PRODUCTS' | translate }}
        div(class="row")
          div(class="col-sm-3")
            div(class="input-group")
              input(class="form-control col-sm-4", ng-model="vm.queryProducts", type="text", placeholder="{{ 'SEARCH' | translate }}")
              span(class="input-group-btn")
                button(class="btn")
                  span(class="glyphicon glyphicon-search")
          div(class="col-sm-9")
            div(class="btn-group pull-right", uib-dropdown)
              button(id="single-button", type="button", class="btn btn-primary", uib-dropdown-toggle, ng-disabled="disabled") &nbsp; {{ 'ACTIONS' | translate }} &nbsp;
                span(class="caret")
              ul(class="dropdown-menu", uib-dropdown-menu, role="menu", aria-labelledby="single-button")
                li(role="menuitem")
                  a(href="", ng-click="vm.openCreateProductModal()") {{ 'CREATE_PRODUCT' | translate }}
                li(role="menuitem")
                  a(href="", ng-click="vm.deleteSelectedProducts()") {{ 'DELETE_SELECTED_PRODUCTS' | translate }}
                li(class="divider")
                li(role="menuitem")
                  a(href="", ng-click="vm.importProductsModal()") {{ 'IMPORT_PRODUCTS' | translate }}
        br
        div(class="table-responsive")
          table(class="table table-striped table-condensed")
            thead
              tr
                th
                  input(type="checkbox", ng-model="vm.allProductsSelected", ng-change="vm.toggleAllProducts()", ng-show="vm.products.length > 0")
                th(style="width: 20%;") {{ 'NAME' | translate }}
                th(style="width: 40%;") {{ 'DESCRIPTION' | translate }}
                th {{ 'PRICE_PER_PRODUCT' | translate }}
                th {{ 'QUANTITIES' | translate }}
                th
            tbody
              tr(ng-if="vm.products.length === 0")
                td(class="text-center", colspan="5")
                  p(class="lead") {{ 'NO_PRODUCTS_DEFINED' | translate }}
              tr(ng-repeat="product in vm.products | filter: vm.queryProducts")
                td
                  input(type="checkbox", ng-model="product.selected")
                td {{ product.name || 'NO_PRODUCT_NAME' }}
                td {{ product.description || 'N/A' }}
                td(class="text-center") ${{ product.price }}
                th(class="text-center") {{ product.quantity }}
                th
                  button(class="btn btn-primary btn-xs")
                    span(class="glyphicon glyphicon-pencil", ng-click="vm.openEditProductModal(product)")

      uib-tab(index="2" heading="{{ 'PRODUCT_GROUPS' | translate }}")
        h3(class="sub-header") {{ 'PRODUCT_GROUPS' | translate }}
        div(class="alert alert-warning", ng-show="vm.products.length === 0") {{ 'CANNOT_ADD_PRODUCT_GROUP_NEED_PRODUCT' | translate }}
        div(class="row")
          div(class="col-sm-3")
            div(class="input-group", ng-hide="vm.productGroups.length === 0")
              input(class="form-control col-sm-4", ng-model="vm.queryProductGroups", type="text", placeholder="{{ 'SEARCH' | translate }}")
              span(class="input-group-btn")
                button(class="btn")
                  span(class="glyphicon glyphicon-search")
          div(class="col-sm-9")
            div(class="btn-group pull-right", uib-dropdown, ng-hide="vm.products.length === 0")
              button(id="single-button", type="button", class="btn btn-primary", uib-dropdown-toggle, ng-disabled="disabled") &nbsp; {{ 'ACTIONS' | translate }} &nbsp;
                span(class="caret")
              ul(class="dropdown-menu", uib-dropdown-menu, role="menu", aria-labelledby="single-button")
                li(role="menuitem")
                  a(href="", ng-click="vm.openCreateProductGroupModal()") {{ 'CREATE_PRODUCT_GROUP' | translate }}
                  a(href="", ng-click="vm.deleteSelectedProductGroups()") {{ 'DELETE_SELECTED_PRODUCT_GROUPS' | translate }}
        br
        div(class="row-fluid")
          div(class="col-sm-6", ng-repeat="group in vm.productGroups | filter:vm.queryProductGroups")
            product-group-card(group="group")
          div(class="col-sm-12", ng-show="vm.productGroups.length === 0")
            p(class="lead text-center") {{ 'NO_PRODUCT_GROUPS' | translate }}
